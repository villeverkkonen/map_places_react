{"version":3,"sources":["components/InfoWindowEx.js","components/MapContainer.js","services/places.js","actions/PlaceActions.js","constants/PlaceConstants.js","components/PlaceForm.js","components/UpdatePlaceForm.js","components/Place.js","components/PlaceList.js","App.js","reducers/PlaceReducer.js","stores/PlaceStore.js","index.js"],"names":["InfoWindowEx","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","infoWindowRef","React","createRef","onInfoWindowOpen","bind","assertThisInitialized","containerElement","document","createElement","inherits","createClass","key","value","ReactDOM","render","Children","only","children","current","infowindow","setContent","react_default","a","dist","assign","onOpen","ref","Component","mapStyles","width","height","ConnectedContainer","toggleInfoWindow","marker","e","title","state","activeMarker","showingInfoWindow","setState","selectedPlace","place_","apiKey","_this2","className","style","google","zoom","initialCenter","lat","lng","places","map","place","id","position","latitude","longitude","onClick","components_InfoWindowEx","visible","description","openingHours","MapContainer","connect","GoogleApiWrapper","services_places","getPlaces","axios","get","then","response","data","getPlace","createPlace","post","deletePlace","delete","updatePlace","put","updatePlaceInArray","array","placeData","placeToBeUpdated","objectSpread","content","dispatch","placeService","catch","err","console","log","res","dispatchCreatePlace","dispatchUpdatePlace","fetchPlacesBegin","type","fetchPlacesSuccess","fetchPlacesFailure","error","dispatchDeletePlace","ConnectedForm","toggleFormDisplay","form","getElementById","display","focus","handleChange","handleSubmit","event","defineProperty","target","preventDefault","onSubmit","htmlFor","onChange","PlaceForm","ConnectedUpdateForm","handleUpdate","toggleUpdatePlace","UpdatePlaceForm","ConnectedPlace","showPlace","showUpdateForm","handleDeletePlace","toggleShowPlace","components_UpdatePlaceForm","Place","ConnectedList","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","sent","abrupt","t0","stop","_x","apply","arguments","_this$props","loading","message","length","components_Place","PlaceList","App","components_MapContainer","components_PlaceForm","components_PlaceList","initialState","PlaceReducer","undefined","action","concat","filter","PlaceStore","createStore","placeReducer","applyMiddleware","thunk","es","store","src_App"],"mappings":"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","file":"static/js/main.f306b874.chunk.js","sourcesContent":["import React, { Component } from \"react\"\r\nimport ReactDOM from \"react-dom\";\r\nimport { InfoWindow } from \"google-maps-react\";\r\n\r\nexport class InfoWindowEx extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.infoWindowRef = React.createRef()\r\n        this.onInfoWindowOpen = this.onInfoWindowOpen.bind(this)\r\n        if (!this.containerElement) {\r\n            this.containerElement = document.createElement(`div`)\r\n        }\r\n    }\r\n\r\n    onInfoWindowOpen() {\r\n        ReactDOM.render(\r\n            React.Children.only(this.props.children),\r\n            this.containerElement\r\n        )\r\n        this.infoWindowRef.current.infowindow.setContent(this.containerElement)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <InfoWindow\r\n                onOpen={this.onInfoWindowOpen}\r\n                ref={this.infoWindowRef}\r\n                {...this.props}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default InfoWindowEx","import React, { Component } from 'react'\r\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react'\r\nimport { connect } from \"react-redux\"\r\nimport InfoWindowEx from './InfoWindowEx'\r\nimport mapService from '../services/maps'\r\n\r\nconst mapStyles = {\r\n  width: '50vw',\r\n  height: '50vh'\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { places: state.places };\r\n}\r\n\r\nexport class ConnectedContainer extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      activeMarker: {},\r\n      selectedPlace: {},\r\n      apiKey: ''\r\n    }\r\n\r\n    this.toggleInfoWindow = this.toggleInfoWindow.bind(this)\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   const apiKey = axios.get('http://localhost:3001/api/api_key')\r\n  //   this.setState({\r\n  //     apiKey: apiKey\r\n  //   })\r\n  // }\r\n\r\n  toggleInfoWindow = (props, marker, e) => {\r\n    if (marker.title === this.state.activeMarker.title && this.state.showingInfoWindow) {\r\n      this.setState({\r\n        activeMarker: {},\r\n        showingInfoWindow: false\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedPlace: props.place_,\r\n        activeMarker: marker,\r\n        showingInfoWindow: true\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"map\" style={mapStyles}>\r\n        <Map\r\n          google={this.props.google}\r\n          zoom={5}\r\n          style={mapStyles}\r\n          initialCenter={{\r\n            lat: 60.192059,\r\n            lng: 24.945831\r\n          }}\r\n        >\r\n          {this.props.places.map(place =>\r\n                <Marker\r\n                    key={place.id}\r\n                    position={{lat: place.latitude, lng: place.longitude}}\r\n                    title={place.title}\r\n                    place_={place}\r\n                    onClick={this.toggleInfoWindow}\r\n                />\r\n            )}\r\n            <InfoWindowEx\r\n              marker={this.state.activeMarker}\r\n              visible={this.state.showingInfoWindow}\r\n            >\r\n              <div className=\"infoWindow\">\r\n                <h3>{this.state.selectedPlace.title}</h3>\r\n                <p>{this.state.selectedPlace.description}</p>\r\n                <p>Open: {this.state.selectedPlace.openingHours}</p>\r\n              </div>\r\n            </InfoWindowEx>\r\n        </Map>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst getApiKey = () => {\r\n  return mapService.getApiKey()\r\n}\r\n\r\nconst MapContainer = connect(mapStateToProps)(ConnectedContainer)\r\n\r\nexport default GoogleApiWrapper({\r\n  // apiKey: getApiKey()\r\n  apiKey: ''\r\n})(MapContainer)","import axios from 'axios'\r\nconst baseUrl = '/api/places/'\r\n\r\nconst getPlaces = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => { return response.data })\r\n}\r\n\r\nconst getPlace = (id) => {\r\n    const request = axios.get(baseUrl + id)\r\n    return request.then(response => { return response.data })\r\n}\r\n\r\nconst createPlace = (place) => {\r\n    const request = axios.post(baseUrl, place)\r\n    return request.then(response => { return response.data })\r\n}\r\n\r\nconst deletePlace = (id) => {\r\n    const request = axios.delete(baseUrl + id)\r\n    return request.then(response => { return response.data })\r\n}\r\n\r\nconst updatePlace = (place) => {\r\n    const request = axios.put(baseUrl + place.id, place)\r\n    return request.then(response => { return response.data })\r\n}\r\n\r\nexport default {\r\n    getPlaces,\r\n    getPlace,\r\n    createPlace,\r\n    deletePlace,\r\n    updatePlace\r\n}","import {\r\n    CREATE_PLACE,\r\n    DELETE_PLACE,\r\n    UPDATE_PLACE,\r\n    FETCH_PLACES_BEGIN,\r\n    FETCH_PLACES_SUCCESS,\r\n    FETCH_PLACES_FAILURE\r\n} from '../constants/PlaceConstants'\r\nimport placeService from '../services/places'\r\n\r\nexport function fetchPlaces() {\r\n    return async dispatch => {\r\n        dispatch(fetchPlacesBegin())\r\n        try {\r\n            const res = await placeService.getPlaces()\r\n            dispatch(fetchPlacesSuccess(res))\r\n            return res\r\n        }\r\n        catch (error) {\r\n            return dispatch(fetchPlacesFailure(error))\r\n        }\r\n    }\r\n}\r\n\r\nexport function updatePlaceInArray(array, placeData, placeToBeUpdated) {\r\n    placeToBeUpdated.title = placeData.title\r\n    placeToBeUpdated.description = placeData.description\r\n    placeToBeUpdated.latitude = placeData.latitude\r\n    placeToBeUpdated.longitude = placeData.longitude\r\n    placeToBeUpdated.openingHours = placeData.openingHours\r\n  \r\n    return array.map((place) => {\r\n      if (place.id !== placeToBeUpdated.id) {\r\n        return place\r\n      }\r\n      return {\r\n        ...place,\r\n        ...placeToBeUpdated\r\n      }\r\n    })\r\n  }\r\n\r\nexport const createPlace = content => {\r\n\r\n    const place = {\r\n        title: content.title,\r\n        description: content.description,\r\n        latitude: content.latitude,\r\n        longitude: content.longitude,\r\n        openingHours: content.openingHours\r\n    }\r\n\r\n    return dispatch => {\r\n        placeService.createPlace(place)\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n        .then(res => {\r\n            dispatch(dispatchCreatePlace(place))\r\n        })\r\n    }\r\n}\r\n\r\nexport const deletePlace = id => {\r\n    return dispatch => {\r\n        placeService.deletePlace(id)\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n        .then(res => {\r\n            dispatch(dispatchDeletePlace(id))\r\n        })\r\n    }\r\n}\r\n\r\nexport const updatePlace = place => {\r\n    return dispatch => {\r\n        placeService.updatePlace(place)\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n        .then(res => {\r\n            dispatch(dispatchUpdatePlace(place))\r\n        })\r\n    }\r\n}\r\n\r\nexport const fetchPlacesBegin = () => ({\r\n    type: FETCH_PLACES_BEGIN\r\n})\r\n\r\nexport const fetchPlacesSuccess = places => ({\r\n    type: FETCH_PLACES_SUCCESS,\r\n    data: { places }\r\n})\r\n\r\nexport const fetchPlacesFailure = error => ({\r\n    type: FETCH_PLACES_FAILURE,\r\n    data: { error }\r\n})\r\n\r\nconst dispatchCreatePlace = place => {\r\n    return {\r\n        type: CREATE_PLACE,\r\n        data: {\r\n            title: place.title,\r\n            description: place.description,\r\n            latitude: place.latitude,\r\n            longitude: place.longitude,\r\n            openingHours: place.openingHours\r\n        }\r\n    }\r\n}\r\n\r\nconst dispatchDeletePlace = id => {\r\n    return {\r\n        type: DELETE_PLACE,\r\n        data: { id: id }\r\n    }\r\n}\r\n\r\nconst dispatchUpdatePlace = place => {\r\n    return {\r\n        type: UPDATE_PLACE,\r\n        data: { place: place }\r\n    }\r\n}","export const CREATE_PLACE = 'CREATE_PLACE'\r\nexport const DELETE_PLACE = 'DELETE_PLACE'\r\nexport const UPDATE_PLACE = 'UPDATE_PLACE'\r\nexport const FETCH_PLACES_BEGIN = 'FETCH_PLACES_BEGIN'\r\nexport const FETCH_PLACES_SUCCESS = 'FETCH_PLACES_SUCCESS'\r\nexport const FETCH_PLACES_FAILURE = 'FETCH_PLACES_FAILURE'","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\"\r\nimport { createPlace } from '../actions/PlaceActions'\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        createPlace: place => dispatch(createPlace(place))\r\n    }\r\n}\r\n\r\nclass ConnectedForm extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            title: \"\",\r\n            description: \"\",\r\n            latitude: \"\",\r\n            longitude: \"\",\r\n            openingHours: \"\"\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.toggleFormDisplay = this.toggleFormDisplay.bind(this)\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.id]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        const title = this.state.title\r\n        const description = this.state.description\r\n        const latitude = this.state.latitude\r\n        const longitude = this.state.longitude\r\n        const openingHours = this.state.openingHours\r\n\r\n        this.props.createPlace({\r\n            title,\r\n            description,\r\n            latitude,\r\n            longitude,\r\n            openingHours\r\n        })\r\n\r\n        this.setState({\r\n            title: \"\",\r\n            description: \"\",\r\n            latitude: \"\",\r\n            longitude: \"\",\r\n            openingHours: \"\"\r\n        })\r\n\r\n        this.toggleFormDisplay()\r\n    }\r\n\r\n    toggleFormDisplay = () => {\r\n        let form = document.getElementById(\"newPlaceForm\")\r\n        form.style.display === \"none\" ? form.style.display = \"block\" : form.style.display = \"none\"\r\n        document.getElementById(\"title\").focus()\r\n    }\r\n\r\n    render() {\r\n        const title = this.state.title\r\n        const description = this.state.description\r\n        const latitude = this.state.latitude\r\n        const longitude = this.state.longitude\r\n        const openingHours = this.state.openingHours\r\n\r\n        const formStyle = {\r\n            display: \"none\"\r\n        }\r\n\r\n        return (\r\n            <div className=\"placeForm\">\r\n                <button onClick={this.toggleFormDisplay}>Add place</button>\r\n                <div className=\"newPlaceForm\" id=\"newPlaceForm\" style={formStyle}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"title\">Title</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"title\" value={title} onChange={this.handleChange} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"description\">Description</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"description\" value={description} onChange={this.handleChange} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"latitude\">Latitude</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"latitude\" value={latitude} onChange={this.handleChange} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"longitude\">Longitude</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"longitude\" value={longitude} onChange={this.handleChange} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"openingHours\">Opening hours</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"openingHours\" value={openingHours} onChange={this.handleChange} />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-success btn-lg\">Save</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst PlaceForm = connect(null, mapDispatchToProps)(ConnectedForm)\r\n\r\nexport default PlaceForm","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\"\r\nimport { updatePlace } from '../actions/PlaceActions'\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        updatePlace: place => dispatch(updatePlace(place))\r\n    }\r\n}\r\n\r\nclass ConnectedUpdateForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            title: \"\",\r\n            description: \"\",\r\n            latitude: \"\",\r\n            longitude: \"\",\r\n            openingHours: \"\"\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleUpdate = this.handleUpdate.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            title: this.props.place.title,\r\n            description: this.props.place.description,\r\n            latitude: this.props.place.latitude,\r\n            longitude: this.props.place.longitude,\r\n            openingHours: this.props.place.openingHours,\r\n            id: this.props.place.id\r\n        })\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.id]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleUpdate(event) {\r\n        event.preventDefault()\r\n        const title = this.state.title\r\n        const description = this.state.description\r\n        const latitude = this.state.latitude\r\n        const longitude = this.state.longitude\r\n        const openingHours = this.state.openingHours\r\n        const id = this.state.id\r\n\r\n        this.props.updatePlace({\r\n            title,\r\n            description,\r\n            latitude,\r\n            longitude,\r\n            openingHours,\r\n            id\r\n        })\r\n\r\n        this.setState({\r\n            title: \"\",\r\n            description: \"\",\r\n            latitude: \"\",\r\n            longitude: \"\",\r\n            openingHours: \"\"\r\n        })\r\n\r\n        this.props.toggleUpdatePlace()\r\n    }\r\n\r\n    render() {\r\n        const title = this.state.title\r\n        const description = this.state.description\r\n        const latitude = this.state.latitude\r\n        const longitude = this.state.longitude\r\n        const openingHours = this.state.openingHours\r\n\r\n        return (\r\n            <div className=\"updatePlaceForm\" id=\"updatePlaceForm\">\r\n                <form onSubmit={this.handleUpdate}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"title\">Title</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"title\" value={title} onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"description\" value={description} onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"latitude\">Latitude</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"latitude\" value={latitude} onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"longitude\">Longitude</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"longitude\" value={longitude} onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"openingHours\">Opening hours</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"openingHours\" value={openingHours} onChange={this.handleChange} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-success btn-lg\">Save</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst UpdatePlaceForm = connect(null, mapDispatchToProps)(ConnectedUpdateForm)\r\n\r\nexport default UpdatePlaceForm","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { deletePlace } from '../actions/PlaceActions'\r\nimport UpdatePlaceForm from './UpdatePlaceForm'\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        deletePlace: id => dispatch(deletePlace(id))\r\n    }\r\n}\r\n\r\nclass ConnectedPlace extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            place: this.props.place,\r\n            showPlace: false,\r\n            showUpdateForm: false\r\n        }\r\n\r\n        this.handleDeletePlace = this.handleDeletePlace.bind(this)\r\n        this.toggleShowPlace = this.toggleShowPlace.bind(this)\r\n        this.toggleUpdatePlace = this.toggleUpdatePlace.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ place: this.props.place })\r\n    }\r\n\r\n    handleDeletePlace() {\r\n        this.props.deletePlace(this.state.place.id)\r\n    }\r\n\r\n    toggleShowPlace() {\r\n        this.setState({ showPlace: !this.state.showPlace })\r\n    }\r\n\r\n    toggleUpdatePlace() {\r\n        this.setState({ showUpdateForm: !this.state.showUpdateForm })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <li key={this.state.place.id}>\r\n                <span onClick={this.toggleShowPlace} className=\"placeTitle\">{this.state.place.title}</span>\r\n                {this.state.showPlace ?\r\n                    <div>\r\n                        <span>{this.state.place.description}</span><br/>\r\n                        <span>Open: {this.state.place.openingHours}</span><br/>\r\n                        <button onClick={this.handleDeletePlace}>Delete</button>\r\n                        <button onClick={this.toggleUpdatePlace}>Update</button>\r\n                        {this.state.showUpdateForm ?\r\n                            <UpdatePlaceForm\r\n                                place={this.state.place}\r\n                                toggleUpdatePlace={this.toggleUpdatePlace}\r\n                            />\r\n                        : null}\r\n                    </div>\r\n                : null}\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nconst Place = connect(null, mapDispatchToProps)(ConnectedPlace)\r\n\r\nexport default Place","import React from 'react'\r\nimport Place from './Place'\r\nimport { connect } from 'react-redux'\r\nimport { fetchPlaces } from '../actions/PlaceActions'\r\n\r\nconst mapStateToProps = state => ({\r\n    places: state.places,\r\n    loading: state.loading,\r\n    error: state.error\r\n})\r\n\r\nclass ConnectedList extends React.Component {\r\n    componentDidMount() {\r\n        this.props.dispatch(fetchPlaces())\r\n    }\r\n\r\n    render() {\r\n        const { error, loading, places } = this.props\r\n\r\n        if (error) {\r\n            return <div>Error! {error.message}</div>\r\n        }\r\n        if (loading && places.length > 0) {\r\n            return <div>Loading...</div>\r\n        }\r\n        return(\r\n            <div className=\"placesList\">\r\n                <ul>\r\n                    {places.map(place =>\r\n                        <Place\r\n                            key={place.id}\r\n                            place={place}\r\n                        />\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst PlaceList = connect(mapStateToProps)(ConnectedList)\r\n\r\nexport default PlaceList","import React from 'react'\r\nimport MapContainer from './components/MapContainer'\r\nimport PlaceForm from './components/PlaceForm'\r\nimport PlaceList from './components/PlaceList'\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"content\">\r\n      <MapContainer />\r\n      <PlaceForm />\r\n      <PlaceList />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import {\r\n  CREATE_PLACE,\r\n  DELETE_PLACE,\r\n  UPDATE_PLACE,\r\n  FETCH_PLACES_BEGIN,\r\n  FETCH_PLACES_SUCCESS,\r\n  FETCH_PLACES_FAILURE\r\n} from '../constants/PlaceConstants'\r\nimport { updatePlaceInArray } from '../actions/PlaceActions'\r\n\r\nconst initialState = {\r\n    places: [],\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst PlaceReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case FETCH_PLACES_BEGIN:\r\n        return {\r\n          ...state,\r\n          loading: true,\r\n          error: null\r\n        }\r\n      case FETCH_PLACES_SUCCESS:\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          places: action.data.places\r\n        }\r\n      case FETCH_PLACES_FAILURE:\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          error: action.data.error,\r\n          places: []\r\n        }\r\n      case CREATE_PLACE:\r\n        return Object.assign({}, state, {\r\n            places: state.places.concat(action.data)\r\n        })\r\n      case DELETE_PLACE:\r\n        return Object.assign({}, state, {\r\n            places: state.places.filter(place => place.id !== action.data.id)\r\n        })\r\n      case UPDATE_PLACE:\r\n        let placeToBeUpdated = state.places.filter(place => place.id === action.data.place.id)[0]\r\n\r\n        return Object.assign({}, state, {\r\n            places: updatePlaceInArray(state.places, action.data.place, placeToBeUpdated)\r\n        })\r\n      default:\r\n        return state\r\n    }\r\n}\r\n\r\nexport default PlaceReducer","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport placeReducer from '../reducers/PlaceReducer'\r\n\r\nconst PlaceStore = createStore(\r\n    placeReducer,\r\n    applyMiddleware(thunk)\r\n)\r\n\r\nexport default PlaceStore","import React from 'react'\r\nimport { render } from \"react-dom\"\r\nimport App from './App'\r\nimport { Provider } from \"react-redux\"\r\nimport store from './stores/PlaceStore'\r\nimport './styles.css'\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}